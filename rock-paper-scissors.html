<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Function scope example</title>
  </head>
<body>

  <script>
    
    function getComputerChoice() {
      const choices = ["rock", "paper", "scissors"];
      return choices[Math.floor(Math.random() * choices.length)];
    }

    function playRound(playerSelection, computerSelection) {
      if ((playerSelection != "rock") && (playerSelection != "scissors") && (playerSelection != "paper")) {
        return "Invalid input. Please enter rock, paper, or scissors."
      } else if (playerSelection == computerSelection) {
        return "This round is tied!";
      } if (
        (playerSelection == "rock" && computerSelection == "scissors") ||
        (playerSelection == "paper" && computerSelection == "rock") ||
        (playerSelection == "scissors" && computerSelection == "paper")
      ) {
        playerScore++;
        return "You win this round, " + playerSelection + " beats " + computerSelection + "!";
        /* I coded all player win cases to have the same return, rather
        than code out a whole bunch of if statements for each 
        individual case. */
      } else { // for ALL other cases, the player loses
        computerScore++;
        return "You lose this round, " + computerSelection + " beats " + playerSelection + "!";
      }
    }

    function game() {
      for(i=0;i<5;i++) {
        let computerSelection = getComputerChoice();
        let playerSelection = prompt("Rock, paper, or scissors?").toLowerCase();

        console.log("ROUND " + (i+1));
        console.log("You picked: " + playerSelection);
        console.log("The computer picked: " + computerSelection)
        console.log(playRound(playerSelection, computerSelection));
        console.log("Your score: " + playerScore);
        console.log("Computer score: " + computerScore);
      }
    }

    function endGame() {
      if (playerScore == computerScore) {
        return "Tie game!"
      }
      else {
        let result = playerScore > computerScore ? "You win the game" : "You lose the game";
        return result;
      }
    }

    let playerScore = 0;
    let computerScore = 0;

    game();
    console.log(endGame());


  </script>
</body>
</html>